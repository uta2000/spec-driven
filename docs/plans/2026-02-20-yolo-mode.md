# YOLO Mode — Design Document

**Date:** 2026-02-20
**Status:** Draft
**Issue:** #15

## Overview

During the feature lifecycle, users are prompted at ~13 decision points across 6 skills. For experienced users working on small/medium tasks, the recommended option is almost always correct — creating friction without adding value. YOLO mode auto-selects recommended options at every `AskUserQuestion` call site, logs each decision inline, and prints a summary table at completion. Quality gates (hooks, tests, verification) are never bypassed.

## Example

**Without YOLO mode** — user runs `start feature: add CSV export`:
```
Step 0: Detected platform: web, stack: [next-js, supabase]. Correct? → [user confirms]
Step 1: This looks like a Feature. Correct? → [user confirms]
Step 3: Brainstorming Q1: How should export trigger? → [user picks Option A]
Step 3: Brainstorming Q2: Which file format? → [user picks Option A]
...8 more confirmation prompts...
```

**With YOLO mode** — user runs `start feature: add CSV export --yolo`:
```
YOLO: Auto-selected platform/stack → web, [next-js, supabase]
YOLO: Auto-selected scope → Feature
YOLO: Brainstorming Q1 (export trigger) → Option A: button in toolbar
YOLO: Brainstorming Q2 (file format) → Option A: CSV with headers
...proceeds without stopping...

## YOLO Decision Log
| # | Skill | Decision | Auto-Selected |
|---|-------|----------|---------------|
| 1 | start-feature | Platform/stack | Accepted: web, [next-js, supabase] |
| 2 | start-feature | Scope | Feature |
| 3 | brainstorming | Export trigger | Option A: button in toolbar |
| ... | ... | ... | ... |
```

## User Flow

### Step 1 — Activation
The user includes a YOLO trigger phrase in their start command: `--yolo`, `yolo mode`, or `run unattended`. Alternatively, if no trigger is detected, `start-feature` asks a one-time startup question: "Run in interactive or YOLO mode?"

### Step 2 — Lifecycle with auto-decisions
Each lifecycle step runs normally. When a skill would call `AskUserQuestion`, it instead:
1. Selects the first/recommended option
2. Logs the decision inline: `YOLO: [skill] — [question summary] → [selected option]`
3. Continues without pausing

### Step 3 — Completion summary
At lifecycle completion, a markdown table of all auto-decisions is printed so the user can review what happened.

## Architecture

### Three Layers

```
┌─────────────┐     ┌─────────────────┐     ┌──────────────────┐
│  Detection   │────▶│  Propagation     │────▶│  Behavior        │
│              │     │                  │     │                  │
│ start-feature│     │ Skill tool args  │     │ Each skill checks│
│ Step 0 parses│     │ "yolo: true"     │     │ flag and skips   │
│ user input   │     │ passed to every  │     │ AskUserQuestion  │
│              │     │ skill invocation │     │                  │
└─────────────┘     └─────────────────┘     └──────────────────┘
```

### Layer 1: Detection

In `start-feature` Step 0, before any other processing:

1. Parse the user's input (the `ARGUMENTS` string) for trigger phrases using **word-boundary matching** (not substring matching, to avoid false positives like "build a yolo-themed game"):
   - `--yolo` (flag style — match as a standalone flag)
   - `yolo mode` (natural language phrase)
   - `run unattended` (natural language phrase)
2. If found: set YOLO mode active, announce: `"YOLO mode active. Auto-selecting recommended options. Decision log will be printed at completion."`
3. If not found: ask a startup question via `AskUserQuestion`: "Run in **interactive** or **YOLO** mode?" with options: "Interactive (default)", "YOLO — auto-select recommended options"
4. Strip the trigger phrase from the arguments before passing to subsequent processing (so `start feature: add CSV export --yolo` becomes `start feature: add CSV export` for scope classification)

### Layer 2: Propagation

When `start-feature` invokes each skill via the `Skill` tool, it appends the YOLO flag to the `args` parameter:

```
Skill(skill: "superpowers:brainstorming", args: "yolo: true. [original args]")
Skill(skill: "spec-driven:design-document", args: "yolo: true. [original args]")
Skill(skill: "spec-driven:create-issue", args: "yolo: true. [original args]")
```

For inline steps (CHANGELOG generation, self-review, code review), the YOLO flag is already in `start-feature`'s context — no explicit propagation needed.

### Layer 3: Behavior

Each skill that uses `AskUserQuestion` adds a conditional check. When YOLO mode is detected in the skill's arguments:

1. **Do not call `AskUserQuestion`** — skip it entirely
2. **Select the recommended/first option** as the decision
3. **Log the decision** by announcing: `YOLO: [question summary] → [selected option]`
4. **Continue** with the selected option as if the user had chosen it

Special cases by skill:

| Skill | AskUserQuestion Context | YOLO Behavior |
|-------|------------------------|---------------|
| **start-feature** | Platform/stack confirmation | Accept detected context |
| **start-feature** | Scope classification | LLM infers from description using criteria table |
| **start-feature** | CHANGELOG version heading | Select `[Unreleased]` |
| **start-feature** | CHANGELOG entry approval | Select "Looks good — write it" |
| **brainstorming** | Interview questions | LLM self-answers using issue context + codebase analysis |
| **design-document** | Clarification questions (Step 1) | LLM self-answers from available context |
| **design-document** | Section-by-section approval (Step 5) | Skip per-section confirmation; present full document without asking |
| **design-verification** | Add gotchas? | Select "Add all" |
| **spike** | Select assumptions to test | Test all identified assumptions |
| **spike** | Add gotcha? | Select "Add" |
| **create-issue** | Confirm issue draft (update) | Select "Update as-is" |
| **create-issue** | Confirm issue draft (create) | Select "Create as-is" |
| **verify-plan-criteria** | Approve criteria | Select "Accept as-is" |

### Decision Log

Each YOLO auto-decision is captured as a structured entry:

**Inline announcement** (printed as each decision is made):
```
YOLO: [skill-name] — [question summary] → [selected option]
```

**Completion summary** (printed at lifecycle end):
```markdown
## YOLO Decision Log

| # | Skill | Decision | Auto-Selected |
|---|-------|----------|---------------|
| 1 | start-feature | Platform/stack detection | Accepted: web, [next-js, supabase] |
| 2 | start-feature | Scope classification | Feature |
| 3 | brainstorming | Design approach Q1 | Option A: ... |
| ... | ... | ... | ... |

**Total decisions auto-selected:** N
**Quality gates preserved:** hooks, tests, verification
```

The log is accumulated in the conversation context during the lifecycle. No file is written — the log is ephemeral to the session.

**Cancellation:** There is no formal YOLO cancellation mechanism. However, inline announcements serve as an "emergency brake" — the user sees each decision as it's made and can interrupt the lifecycle at any point by sending a message. The lifecycle will pause at the current step, and the user can redirect from there.

## What YOLO Mode Does NOT Bypass

These systems continue to run identically regardless of mode:

- **Quality gate hooks** — `tsc`, `lint`, `tests` via Stop hook
- **Anti-pattern PreToolUse hooks** — blocks `any`, `as any`, empty `catch {}`
- **Acceptance criteria verification** — Stop hook requires `verify-acceptance-criteria` to have run
- **Context7 documentation lookups** — still queried for accuracy
- **File-based state** — `.spec-driven.yml`, design docs, implementation plans still written
- **Task tool progress tracking** — todo items still created and updated
- **Worktree setup** — branch creation and isolation still happens
- **Code review pipeline** — all review agents still dispatched
- **Self-review checklist** — still runs against coding standards

## Changes to Existing Files

### `skills/start-feature/SKILL.md`

1. **Step 0 (Load or Create Project Context):** Add YOLO detection block at the very beginning — parse trigger phrases from `ARGUMENTS`, announce mode, strip trigger from args. Add startup question if no trigger detected.
2. **Step 3 (Execute Steps in Order):** Add instruction to prepend `yolo: true` to all `Skill` tool `args` when YOLO mode is active.
3. **Step 5 (Completion):** Add YOLO decision log summary table to the completion output.
4. **Brainstorming Interview Format Override:** Add YOLO behavior — when active, LLM answers its own questions instead of presenting them to the user.
5. **CHANGELOG inline step (Phase 3 — version):** Add YOLO behavior — auto-select `[Unreleased]`.
6. **CHANGELOG inline step (Phase 5 — approval):** Add YOLO behavior — auto-select "Looks good — write it".

### `skills/design-verification/SKILL.md`

1. **Gotcha suggestion step:** Add YOLO behavior — auto-select "Add all" when YOLO flag is in args.

### `skills/design-document/SKILL.md`

1. **Step 1 (Gather Context):** Add YOLO behavior — LLM self-answers clarification questions instead of calling `AskUserQuestion`.
2. **Step 5 (Present for Review):** Add YOLO behavior — skip section-by-section conversational approval; present full document without per-section confirmation.

### `skills/spike/SKILL.md`

1. **Step 1a (assumption selection):** Add YOLO behavior — test all identified assumptions.
2. **Step 5 (gotcha suggestion):** Add YOLO behavior — auto-select "Add".

### `skills/create-issue/SKILL.md`

1. **Step 5 (confirmation):** Add YOLO behavior — auto-select "Update as-is" or "Create as-is".

### `skills/verify-plan-criteria/SKILL.md`

1. **Step 4 (criteria approval):** Add YOLO behavior — auto-select "Accept as-is".

### `CHANGELOG.md`

1. Add entry for this feature under the appropriate version.

### `README.md`

1. Add YOLO mode section to the feature list / usage documentation.

## Scope

**Included:**
- YOLO flag detection in `start-feature` Step 0 (trigger phrase parsing + startup question)
- Flag propagation via `Skill` tool `args` to all invoked skills
- YOLO conditional behavior in all 6 skills with `AskUserQuestion` (13 decision points)
- Inline decision announcements during lifecycle
- Summary decision log table at lifecycle completion
- Special handling for brainstorming (LLM self-answers)

**Excluded:**
- Persistent YOLO config in `.spec-driven.yml` (per-invocation only — intentional)
- Bypassing quality gates, hooks, or verification steps
- Streamlining non-`AskUserQuestion` touchpoints (branch naming, commit messages, etc.)
- UI/visual changes (this is a CLI plugin — output is text)
- Scope-gated YOLO (e.g., auto-YOLO for quick fixes only) — may be added later
